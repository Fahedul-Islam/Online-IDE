{% extends 'home/base.html' %}

{% block content %}
<form action="{% url 'runcode' %}" method="post">
    {% csrf_token %}
    <div class="editor-container">   
     <div class="toolbar">
         <label for="language">Select Language:</label>
         <select id="language" name="language" class="form-select">
             <option value="cpp" {% if language == 'cpp' %}selected{% endif %}>C++</option>
             <option value="python" {% if language == 'python' %}selected{% endif %}>Python</option>
         </select>
     </div>
        <div class="form-group">
            <label for="codearea">Code Area</label>
            <textarea class="form-control" id="codearea" name="codearea" rows="10" placeholder="Enter your code here..." onkeydown="if(event.keyCode===9){var v=this.value,s=this.selectionStart,e=this.selectionEnd;this.value=v.substring(0, s)+'\t'+v.substring(e);this.selectionStart=this.selectionEnd=s+1;return false;}">{{ code }}</textarea>
        </div>
        <div class="input-container">
            <label for="input">User Input</label>
            <textarea class="form-control" id="input" name="input" rows="3" placeholder="Enter input (stdin) here..."></textarea>
        </div>
        <div class="form-group">
            <label for="output">Output</label>
            <textarea class="form-control" id="output" name="output" rows="4" readonly>{{ output }}</textarea>
        </div>
    </div>
    <div class="submit-btn">
        <button type="submit" class="btn btn-primary">Run</button>
    </div>
</form>
{% endblock %}